<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NITT CSE Planner V4</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div id="toast"></div>

    <div class="container">
        <div class="main-panel">
            <h1>NITT CSE Planner</h1>

            <div class="card">
                <div class="sem-tabs">
                    <button class="sem-tab active" id="tab-3" onclick="window.app.switchTab('3')">Sem III</button>
                    <button class="sem-tab locked" id="tab-4" onclick="window.app.switchTab('4')">Sem IV</button>
                    <button class="sem-tab locked" id="tab-5" onclick="window.app.switchTab('5')">Sem V</button>
                    <button class="sem-tab locked" id="tab-6" onclick="window.app.switchTab('6')">Sem VI</button>
                    <button class="sem-tab locked" id="tab-7" onclick="window.app.switchTab('7')">Sem VII</button>
                    <button class="sem-tab locked" id="tab-8" onclick="window.app.switchTab('8')">Sem VIII</button>
                </div>

                <div class="mode-switch">
                    <button class="mode-btn active" id="mode-check" onclick="window.app.switchMode('check')">Input Actuals</button>
                    <button class="mode-btn" id="mode-predict" onclick="window.app.switchMode('predict')">Predict CGPA</button>
                </div>

                <div class="inputs-grid" style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:16px; margin-bottom:16px;">
                    <div class="input-group">
                        <label>CGPA (Start)</label>
                        <input type="number" id="currCGPA" class="main-input" value="8.5" oninput="window.app.updateStartData()">
                    </div>
                    <div class="input-group">
                        <label>Credits (Start)</label>
                        <input type="number" id="currCredits" class="main-input" value="40" oninput="window.app.updateStartData()">
                    </div>
                    <div class="input-group">
                        <label>Target CGPA</label>
                        <input type="number" id="targetCGPA" class="main-input" value="9.0">
                    </div>
                </div>
            </div>

            <div class="card">
                <h2 id="semTitle">Semester III Courses</h2>
                <div id="course-list">
                    </div>
                <button class="add-btn" onclick="window.app.addCustomCourse()">+ Add Subject</button>
            </div>
        </div>

        <div class="side-panel">
            <div class="card" id="auth-section">
                <button class="calculate-btn google-btn" onclick="window.app.login()">Sync Data</button>
            </div>

            <div id="panel-check" class="card">
                <h2>Current Stats</h2>
                <div style="text-align:center; margin-bottom:15px;">
                    <div style="font-size:0.75rem; color:var(--text-muted); text-transform:uppercase; letter-spacing:1px;">Semester GPA</div>
                    <div style="font-size:1.75rem; font-weight:800; color:var(--text-main); margin:5px 0;" id="live-sgpa">0.00</div>
                    <div style="font-size:0.75rem; color:var(--text-muted); text-transform:uppercase; letter-spacing:1px; margin-top:15px;">New Cumulative</div>
                    <div style="font-size:1.75rem; font-weight:800; color:var(--success);" id="live-cgpa">0.00</div>
                </div>
                <button class="calculate-btn save-btn" onclick="window.app.saveAndUnlock()">Save & Unlock Next Sem</button>
            </div>

            <div id="panel-predict" class="card" style="display:none;">
                <h2>Analysis</h2>
                <div style="text-align:center; margin-bottom:15px;">
                    <div style="font-size:0.75rem; color:var(--text-muted); text-transform:uppercase; letter-spacing:1px;">Points Needed</div>
                    <div style="font-size:1.75rem; font-weight:800; color:var(--text-main); margin-top:5px;" id="points-needed">--</div>
                </div>
                <button class="calculate-btn" onclick="window.app.calculateWorstCase()">Calculate Lowest Path</button>
                <div id="prediction-result" style="margin-top:20px;"></div>
            </div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>